function getFaves(e){chrome.storage.sync.get("favorites",function(t){e(t.favorites)})}function setFaves(e){chrome.storage.sync.set({favorites:e})}function checkFaved(e,t){getFaves(function(a){var o=a.split(" ");t(o.indexOf(e)>-1?!0:!1)})}function addFave(e){getFaves(function(t){var a=t+" "+e;a=a.trim(),setFaves(a)})}function removeFave(e){getFaves(function(t){t=t.replace(e+" ",""),t=t.replace(e,""),setFaves(t.trim())})}function toggleFave(e){checkFaved(e,function(t){t?removeFave(e):addFave(e)})}function prepPage(){chrome.tabs.executeScript(null,{file:"target_page/inject.js"})}function setTheme(e){var t=chrome.extension.getURL("themes/"+e+".css");chrome.tabs.executeScript(null,{code:'document.getElementById("bootswatch-style").setAttribute("href", "'+t+'");\nvar originalSheet=document.getElementById("original-stylesheet");\nif (originalSheet!=null) { originalSheet.disabled = true; }\ndocument.getElementById("last-theme").value = \''+e+"';"}),$("#download").attr("href","http://maxcdn.bootstrapcdn.com/bootswatch/3.3.4/"+e+"/bootstrap.min.css"),checkFaved(e,function(e){e?$("#favorite i").addClass("md-favorite").removeClass("md-favorite-outline"):$("#favorite i").removeClass("md-favorite").addClass("md-favorite-outline")})}function clearTheme(){chrome.tabs.executeScript(null,{file:"target_page/reset.js"}),$(".theme-icon.active").toggleClass("active"),chrome.tabs.executeScript(null,{code:"document.getElementById(\"last-theme\").value = '';"})}function loadThemes(){$("#no-bootstrap").hide(),$("#theme-actions").show();for(var e in themes)e=themes[e],$("#themes").append('<div class="theme-block" id="theme-'+e+'" data-theme="'+e+'"><div class="theme-icon"><span>Sample</span><div class="color primary"></div><div class="color color-half success"></div><div class="color color-half info"></div><div class="color color-half warning"></div><div class="color color-half danger"></div></div><div class="theme-name">'+e+"</div></div>");$(".theme-block").click(function(){setTheme($(this).data("theme")),$(".theme-icon.active").toggleClass("active"),$(this).find(".theme-icon").toggleClass("active")}).each(function(){var e=$(this).data("theme");checkFaved(e,function(t){console.log("hi"),t&&(console.log("hello"),$("#theme-"+e).addClass("theme-faved"))})})}var themes=["cerulean","cosmo","cyborg","darkly","flatly","journal","lumen","paper","readable","sandstone","simplex","slate","spacelab","superhero","united","yeti"];$(document).ready(function(){prepPage(),$("a").click(function(){var e=$(this).attr("href");return"#"!==e?(chrome.tabs.create({url:$(this).attr("href")}),!1):void 0}),chrome.runtime.onMessage.addListener(function(e){if("bootstrapStatus"===e.method){var t="true"===e.title?!0:!1;loadThemes(),t||$("#no-bootstrap").show()}"themeAlreadySet"===e.method&&($("#theme-"+e.title+" .theme-icon").addClass("active"),$("#no-bootstrap").hide(),checkFaved(e.title,function(e){e&&$("#favorite i").addClass("md-favorite").removeClass("md-favorite-outline")}))}),$("#load-anyway").click(function(){$("#reset,#theme-actions").show(),$("#no-bootstrap").hide()}),$("#reset").click(function(){clearTheme()}),$("#hamburger").click(function(){$("menu").toggleClass("open"),$("#menu-shade").fadeIn()}),$("#menu-shade").click(function(){$("menu").toggleClass("open"),$("#menu-shade").fadeOut()}),$("menu ul li:not([data-target=fave-themes])").click(function(){$("section.active").removeClass("active"),$("#themes .theme-block").show(),$("menu ul li.active").removeClass("active"),$(this).addClass("active");var e=$(this).data("target"),t=$("section#section-"+e);t.addClass("active"),$("menu").toggleClass("open"),$("#menu-shade").fadeOut(),"about"==e||"help"==e?$("#theme-actions").hide():$("#theme-actions").show()}),$("menu ul li[data-target=fave-themes").click(function(){var e=$("section.active");"section-themes"!==e.attr("id")&&$("section.active").removeClass("active"),$("#section-themes").addClass("active"),$("#theme-actions").show(),$("#themes .theme-block:not(.theme-faved)").hide(),$("menu ul li.active").removeClass("active"),$(this).addClass("active"),$("menu").toggleClass("open"),$("#menu-shade").fadeOut()}),$("#load-anyway-cancel").click(function(){window.close()}),$("#favorite").click(function(){var e=$(".theme-block .theme-icon.active").parent(),t=e.data("theme");e.toggleClass("theme-faved"),toggleFave(t),$("#favorite i").toggleClass("md-favorite").toggleClass("md-favorite-outline")})});
//# sourceMappingURL=./popup.min.js.map